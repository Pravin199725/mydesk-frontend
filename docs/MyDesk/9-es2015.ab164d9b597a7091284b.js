(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{DNuw:function(r,t,i){"use strict";i.r(t),i.d(t,"RegistrationModule",(function(){return P}));var e=i("ofXK"),o=i("tyNb"),s=i("3Pt+"),n=i("ahC7"),a=i("fXoL"),c=i("9ans"),d=i("E2f4");function b(r,t){if(1&r&&(a.Nb(0,"li"),a.kc(1),a.Mb()),2&r){const r=t.$implicit;a.zb(1),a.lc(r)}}function l(r,t){if(1&r&&(a.Nb(0,"div",17),a.Nb(1,"h6"),a.kc(2,"Errors!"),a.Mb(),a.jc(3,b,2,1,"li",18),a.Mb()),2&r){const r=a.Zb();a.zb(3),a.ac("ngForOf",r.errors)}}function u(r,t){1&r&&(a.Nb(0,"div"),a.kc(1,"Email is required"),a.Mb())}function g(r,t){1&r&&(a.Nb(0,"div"),a.kc(1,"Email must be a valid email address"),a.Mb())}function f(r,t){if(1&r&&(a.Nb(0,"div",19),a.jc(1,u,2,0,"div",20),a.jc(2,g,2,0,"div",20),a.Mb()),2&r){const r=a.Zb();a.zb(1),a.ac("ngIf",r.f.email.errors.required),a.zb(1),a.ac("ngIf",r.f.email.errors.email)}}function m(r,t){1&r&&(a.Nb(0,"div"),a.kc(1,"Password is required"),a.Mb())}function h(r,t){1&r&&(a.Nb(0,"div"),a.kc(1,"Password must be at least 6 characters"),a.Mb())}function p(r,t){if(1&r&&(a.Nb(0,"div",19),a.jc(1,m,2,0,"div",20),a.jc(2,h,2,0,"div",20),a.Mb()),2&r){const r=a.Zb();a.zb(1),a.ac("ngIf",r.f.password.errors.required),a.zb(1),a.ac("ngIf",r.f.password.errors.minlength)}}function v(r,t){1&r&&(a.Nb(0,"div"),a.kc(1,"Confirm Password is required"),a.Mb())}function w(r,t){1&r&&(a.Nb(0,"div"),a.kc(1,"Passwords must match"),a.Mb())}function M(r,t){if(1&r&&(a.Nb(0,"div",19),a.jc(1,v,2,0,"div",20),a.jc(2,w,2,0,"div",20),a.Mb()),2&r){const r=a.Zb();a.zb(1),a.ac("ngIf",r.f.confirmPassword.errors.required),a.zb(1),a.ac("ngIf",r.f.confirmPassword.errors.mustMatch)}}const N=function(r){return{"is-invalid":r}},k=[{path:"",component:(()=>{class r{constructor(r,t,i,e){this.formBuilder=r,this.authService=t,this.socialAuthService=i,this.storageService=e,this.submitted=!1,this.errors=[]}ngOnInit(){this.registrationForm=this.formBuilder.group({email:["",[s.h.required,s.h.email]],password:["",[s.h.required,s.h.minLength(6)]],confirmPassword:["",s.h.required]},{validator:r=>{const t=r.controls.confirmPassword;t.errors&&!t.errors.mustMatch||t.setErrors(r.controls.password.value!==t.value?{mustMatch:!0}:null)}}),this.socialAuthService.authState.subscribe(r=>{console.log("user login",r)})}get f(){return this.registrationForm.controls}signUp(){if(this.submitted=!0,this.registrationForm.invalid)return;const r={email:this.registrationForm.get("email").value,password2:this.registrationForm.get("confirmPassword").value,password1:this.registrationForm.get("password").value};this.onRegisterHandler(r)}signUpWithGoogle(){this.socialAuthService.signIn(n.b.PROVIDER_ID).then(r=>{console.log("user",r),this.onRegisterHandler({email:r.email,firstname:r.firstName})}).catch(r=>{console.log("error",r)})}signUpWithFB(){this.socialAuthService.signIn(n.a.PROVIDER_ID).then(r=>{this.onRegisterHandler({email:r.email})}).catch(r=>{console.log("error",r)})}onRegisterHandler(r){this.authService.registration(r).subscribe(r=>{this.registrationForm.reset(),this.registrationForm.get("email").clearValidators(),this.registrationForm.get("email").updateValueAndValidity(),this.registrationForm.get("password").clearValidators(),this.registrationForm.get("password").updateValueAndValidity(),this.registrationForm.get("confirmPassword").clearValidators(),this.registrationForm.get("confirmPassword").updateValueAndValidity(),this.storageService.setData("userData",r),this.errors=[]},r=>{Object.keys(r.error).map(t=>this.errors=[...this.errors,...r.error[t]])})}}return r.\u0275fac=function(t){return new(t||r)(a.Kb(s.b),a.Kb(c.a),a.Kb(n.c),a.Kb(d.a))},r.\u0275cmp=a.Eb({type:r,selectors:[["app-registration"]],decls:29,vars:14,consts:[[1,"d-flex","justify-content-center","bg-registration-box"],[1,"card","d-flex","w-45","align-self-center","c-registration-card"],[1,"card-body","c-registration-inner-card"],[1,"text-center"],[1,"card-title"],["class","alert alert-danger text-left","role","alert",4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"formGroup","ngSubmit"],[1,"mr-auto","fw-700"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback text-left",4,"ngIf"],[1,"mr-auto","fw-700","mt-3"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],["type","password","formControlName","confirmPassword",1,"form-control",3,"ngClass"],["name","signin",1,"btn","btn-primary1","px-5","py-2","mt-3","mb-auto"],[1,"mt-3","mb-3"],["type","button",1,"btn","btn-primary","mr-4",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["role","alert",1,"alert","alert-danger","text-left"],[4,"ngFor","ngForOf"],[1,"invalid-feedback","text-left"],[4,"ngIf"]],template:function(r,t){1&r&&(a.Nb(0,"div",0),a.Nb(1,"div",1),a.Nb(2,"div",2),a.Nb(3,"div",3),a.Nb(4,"h5",4),a.kc(5," My Desk "),a.Mb(),a.jc(6,l,4,1,"div",5),a.Nb(7,"form",6),a.Vb("ngSubmit",(function(){return t.signUp()})),a.Nb(8,"label",7),a.kc(9,"Email"),a.Mb(),a.Lb(10,"input",8),a.jc(11,f,3,2,"div",9),a.Nb(12,"label",10),a.kc(13,"Password"),a.Mb(),a.Lb(14,"input",11),a.jc(15,p,3,2,"div",9),a.Nb(16,"label",10),a.kc(17,"Confirm Password"),a.Mb(),a.Lb(18,"input",12),a.jc(19,M,3,2,"div",9),a.Nb(20,"button",13),a.kc(21,"SIGN UP"),a.Mb(),a.Mb(),a.Nb(22,"h4",14),a.kc(23,"OR"),a.Mb(),a.Nb(24,"div",3),a.Nb(25,"button",15),a.Vb("click",(function(){return t.signUpWithFB()})),a.kc(26,"Sign Up With Facebook"),a.Mb(),a.Nb(27,"button",16),a.Vb("click",(function(){return t.signUpWithGoogle()})),a.kc(28,"Sign Up With Google"),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Mb()),2&r&&(a.zb(6),a.ac("ngIf",t.errors.length>0),a.zb(1),a.ac("formGroup",t.registrationForm),a.zb(3),a.ac("ngClass",a.dc(8,N,t.submitted&&t.f.email.errors)),a.zb(1),a.ac("ngIf",t.submitted&&t.f.email.errors),a.zb(3),a.ac("ngClass",a.dc(10,N,t.submitted&&t.f.password.errors)),a.zb(1),a.ac("ngIf",t.submitted&&t.f.password.errors),a.zb(3),a.ac("ngClass",a.dc(12,N,t.submitted&&t.f.confirmPassword.errors)),a.zb(1),a.ac("ngIf",t.submitted&&t.f.confirmPassword.errors))},directives:[e.j,s.i,s.f,s.d,s.a,s.e,s.c,e.h,e.i],styles:[".bg-registration-box[_ngcontent-%COMP%]{background:#fff;background-size:cover;height:100vh}.c-registration-card[_ngcontent-%COMP%]{box-shadow:0 0 99px rgba(255,228,228,.059);border:3px solid #e6e6e6;border-radius:20px;padding:10px;height:auto}.c-registration-inner-card[_ngcontent-%COMP%]{border:3px solid #1b2d3f;border-radius:10px;padding:35px 15px}"]}),r})()}];let I=(()=>{class r{}return r.\u0275mod=a.Ib({type:r}),r.\u0275inj=a.Hb({factory:function(t){return new(t||r)},imports:[[o.d.forChild(k)],o.d]}),r})(),P=(()=>{class r{}return r.\u0275mod=a.Ib({type:r}),r.\u0275inj=a.Hb({factory:function(t){return new(t||r)},providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:n.b.PROVIDER_ID,provider:new n.b("4814848901-m6t676c7bmmn5lj0ucrpuijc40khksc3.apps.googleusercontent.com")},{id:n.a.PROVIDER_ID,provider:new n.a("998377990680624")}]}}],imports:[[e.b,I,s.g,n.d]]}),r})()}}]);