(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{X3zk:function(r,e,t){"use strict";t.r(e),t.d(e,"LoginModule",(function(){return M}));var i=t("ofXK"),n=t("tyNb"),o=t("3Pt+"),s=t("ahC7"),c=t("fXoL"),a=t("9ans"),b=t("E2f4");function l(r,e){if(1&r&&(c.Nb(0,"li"),c.kc(1),c.Mb()),2&r){const r=e.$implicit;c.zb(1),c.lc(r)}}function d(r,e){if(1&r&&(c.Nb(0,"div",16),c.Nb(1,"h6"),c.kc(2,"Errors!"),c.Mb(),c.jc(3,l,2,1,"li",17),c.Mb()),2&r){const r=c.Zb();c.zb(3),c.ac("ngForOf",r.errors)}}function u(r,e){1&r&&(c.Nb(0,"div"),c.kc(1,"Email is required"),c.Mb())}function g(r,e){1&r&&(c.Nb(0,"div"),c.kc(1,"Email must be a valid email address"),c.Mb())}function f(r,e){if(1&r&&(c.Nb(0,"div",18),c.jc(1,u,2,0,"div",19),c.jc(2,g,2,0,"div",19),c.Mb()),2&r){const r=c.Zb();c.zb(1),c.ac("ngIf",r.f.email.errors.required),c.zb(1),c.ac("ngIf",r.f.email.errors.email)}}function m(r,e){1&r&&(c.Nb(0,"div"),c.kc(1,"Password is required"),c.Mb())}function h(r,e){1&r&&(c.Nb(0,"div"),c.kc(1,"Password must be at least 6 characters"),c.Mb())}function p(r,e){if(1&r&&(c.Nb(0,"div",18),c.jc(1,m,2,0,"div",19),c.jc(2,h,2,0,"div",19),c.Mb()),2&r){const r=c.Zb();c.zb(1),c.ac("ngIf",r.f.password.errors.required),c.zb(1),c.ac("ngIf",r.f.password.errors.minlength)}}const v=function(r){return{"is-invalid":r}},I=[{path:"",component:(()=>{class r{constructor(r,e,t,i,n){this.formBuilder=r,this.authService=e,this.socialAuthService=t,this.storageService=i,this.router=n,this.submitted=!1,this.errors=[]}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[o.h.required,o.h.email]],password:["",[o.h.required,o.h.minLength(6)]]})}get f(){return this.loginForm.controls}login(){this.submitted=!0,this.loginForm.invalid||(this.authService.login(this.loginForm.value).subscribe(r=>{this.errors=[],this.storageService.setData("userData",r),this.router.navigate(["/student/home"])},r=>{r.error.hasOwnProperty("non_field_errors")&&(this.errors=r.error.non_field_errors),console.log("error",r)}),this.socialAuthService.authState.subscribe(r=>{console.log("user login",r)}))}signInWithGoogle(){this.socialAuthService.signIn(s.b.PROVIDER_ID).then(r=>{console.log("user",r)}).catch(r=>{console.log("error",r)})}signInWithFB(){this.socialAuthService.signIn(s.a.PROVIDER_ID).then(r=>{console.log("user",r)}).catch(r=>{console.log("error",r)})}}return r.\u0275fac=function(e){return new(e||r)(c.Kb(o.b),c.Kb(a.a),c.Kb(s.c),c.Kb(b.a),c.Kb(n.a))},r.\u0275cmp=c.Eb({type:r,selectors:[["app-login"]],decls:25,vars:10,consts:[[1,"d-flex","justify-content-center","bg-login-box"],[1,"card","d-flex","w-45","align-self-center","c-login-card"],[1,"card-body","c-login-inner-card"],[1,"text-center"],[1,"card-title"],["class","alert alert-danger text-left","role","alert",4,"ngIf"],[1,"d-flex","flex-column","align-items-center",3,"formGroup","ngSubmit"],[1,"mr-auto","fw-700"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback text-left",4,"ngIf"],[1,"mr-auto","fw-700","mt-3"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],["name","signin",1,"btn","btn-primary1","px-5","py-2","mt-3"],[1,"mt-3","mb-3"],["type","button",1,"btn","btn-primary","mr-4",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["role","alert",1,"alert","alert-danger","text-left"],[4,"ngFor","ngForOf"],[1,"invalid-feedback","text-left"],[4,"ngIf"]],template:function(r,e){1&r&&(c.Nb(0,"div",0),c.Nb(1,"div",1),c.Nb(2,"div",2),c.Nb(3,"div",3),c.Nb(4,"h5",4),c.kc(5," My Desk "),c.Mb(),c.jc(6,d,4,1,"div",5),c.Nb(7,"form",6),c.Vb("ngSubmit",(function(){return e.login()})),c.Nb(8,"label",7),c.kc(9,"Email"),c.Mb(),c.Lb(10,"input",8),c.jc(11,f,3,2,"div",9),c.Nb(12,"label",10),c.kc(13,"Password"),c.Mb(),c.Lb(14,"input",11),c.jc(15,p,3,2,"div",9),c.Nb(16,"button",12),c.kc(17,"SIGN IN"),c.Mb(),c.Mb(),c.Nb(18,"h4",13),c.kc(19,"OR"),c.Mb(),c.Nb(20,"div",3),c.Nb(21,"button",14),c.Vb("click",(function(){return e.signInWithFB()})),c.kc(22,"Sign In With Facebook"),c.Mb(),c.Nb(23,"button",15),c.Vb("click",(function(){return e.signInWithGoogle()})),c.kc(24,"Sign In With Google "),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Mb()),2&r&&(c.zb(6),c.ac("ngIf",e.errors.length>0),c.zb(1),c.ac("formGroup",e.loginForm),c.zb(3),c.ac("ngClass",c.dc(6,v,e.submitted&&e.f.email.errors)),c.zb(1),c.ac("ngIf",e.submitted&&e.f.email.errors),c.zb(3),c.ac("ngClass",c.dc(8,v,e.submitted&&e.f.password.errors)),c.zb(1),c.ac("ngIf",e.submitted&&e.f.password.errors))},directives:[i.j,o.i,o.f,o.d,o.a,o.e,o.c,i.h,i.i],styles:[".bg-login-box[_ngcontent-%COMP%]{background:#fff;background-size:cover;height:100vh}.c-login-card[_ngcontent-%COMP%]{box-shadow:0 0 99px rgba(255,228,228,.059);border:3px solid #e6e6e6;border-radius:20px;padding:10px;height:auto}.c-login-inner-card[_ngcontent-%COMP%]{border:3px solid #1b2d3f;border-radius:10px;padding:35px 15px}"]}),r})()}];let k=(()=>{class r{}return r.\u0275mod=c.Ib({type:r}),r.\u0275inj=c.Hb({factory:function(e){return new(e||r)},imports:[[n.d.forChild(I)],n.d]}),r})(),M=(()=>{class r{}return r.\u0275mod=c.Ib({type:r}),r.\u0275inj=c.Hb({factory:function(e){return new(e||r)},providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:s.b.PROVIDER_ID,provider:new s.b("4814848901-m6t676c7bmmn5lj0ucrpuijc40khksc3.apps.googleusercontent.com")},{id:s.a.PROVIDER_ID,provider:new s.a("998377990680624")}]}}],imports:[[i.b,k,o.g,s.d]]}),r})()}}]);